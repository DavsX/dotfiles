#!/bin/bash

if [ $# -eq 1 ] ; then
    redshift -x
    exit
fi

command -V redshift >/dev/null 2>&1 || exit 1;

HOUR=$(date '+%H')

declare -A config
config=(
    ["00"]="-O 1900 -b 0.7"
    ["01"]="-O 1900 -b 0.7"
    ["02"]="-O 1900 -b 0.7"
    ["03"]="-O 1900 -b 0.7"
    ["04"]="-O 1900 -b 0.7"
    ["05"]="-O 1900 -b 0.7"
    ["06"]="-O 1900 -b 0.7"
    ["07"]="-O 2200 -b 0.7"
    ["08"]="-O 2800 -b 0.8"
    ["09"]="-O 4700 -b 1.0"
    ["10"]="-O 4700 -b 1.0"
    ["11"]="-O 4700 -b 1.0"
    ["12"]="-O 4700 -b 1.0"
    ["13"]="-O 4700 -b 1.0"
    ["14"]="-O 4700 -b 1.0"
    ["15"]="-O 4700 -b 1.0"
    ["16"]="-O 2900 -b 1.0"
    ["17"]="-O 2700 -b 0.8"
    ["18"]="-O 2500 -b 0.8"
    ["19"]="-O 2300 -b 0.8"
    ["20"]="-O 2100 -b 0.8"
    ["21"]="-O 1900 -b 0.7"
    ["22"]="-O 1900 -b 0.7"
    ["23"]="-O 1900 -b 0.7"
    ["24"]="-O 1900 -b 0.7"
)

redshift -P ${config[$HOUR]}
